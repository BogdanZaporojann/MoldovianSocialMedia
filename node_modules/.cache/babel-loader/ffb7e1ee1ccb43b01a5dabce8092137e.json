{"ast":null,"code":"import axios from 'axios';\nexport let instance = axios.create({\n  withCredentials: true,\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\n  headers: {\n    'API-KEY': 'd9f5b548-66e1-4d3a-9a83-125429519095'\n  }\n});\nexport let ResultCodesEnum;\n\n(function (ResultCodesEnum) {\n  ResultCodesEnum[ResultCodesEnum[\"Success\"] = 0] = \"Success\";\n  ResultCodesEnum[ResultCodesEnum[\"Error\"] = 1] = \"Error\";\n  ResultCodesEnum[ResultCodesEnum[\"CaptchaIsRequired\"] = 10] = \"CaptchaIsRequired\";\n})(ResultCodesEnum || (ResultCodesEnum = {}));\n\nexport let profileAPI = {\n  getProfile(userId) {\n    return instance.get(`profile/${userId}`).then(result => result.data);\n  },\n\n  getStatus(userId) {\n    return instance.get(`profile/status/${userId}`).then(result => result.data);\n  },\n\n  updateStatus(status) {\n    return instance.put('profile/status', {\n      status: status\n    }).then(result => result.data);\n  }\n\n};\nexport const captchaAPI = {\n  getCaptcha() {\n    return instance.get(`security/get-captcha-url`).then(result => result.data.url);\n  }\n\n};\nexport const authAPI = {\n  me() {\n    return instance.get(`/auth/me`).then(result => result.data);\n  },\n\n  login(email, password) {\n    let rememberMe = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    let captcha = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    return instance.post(`/auth/login`, {\n      email,\n      password,\n      rememberMe,\n      captcha\n    });\n  },\n\n  logout() {\n    return instance.delete(`auth/login`);\n  }\n\n};","map":{"version":3,"names":["axios","instance","create","withCredentials","baseURL","headers","ResultCodesEnum","profileAPI","getProfile","userId","get","then","result","data","getStatus","updateStatus","status","put","captchaAPI","getCaptcha","url","authAPI","me","login","email","password","rememberMe","captcha","post","logout","delete"],"sources":["/home/bogdan/Рабочий стол/neverGiveUp/src/api/api.ts"],"sourcesContent":["import axios from 'axios';\n\n\nexport let instance = axios.create({\n    withCredentials: true,\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\n    headers: {\n        'API-KEY':'d9f5b548-66e1-4d3a-9a83-125429519095'\n    }\n});\n\n\n\nexport enum ResultCodesEnum {\n    Success = 0,\n    Error = 1,\n    CaptchaIsRequired = 10\n}\n\n\n\n\n\n\n\n\n\n\n\ntype ProfileInfoByIdResponseType = {\n    userId: number\n    lookingForAJob: boolean\n    lookingForAJobDescription: string\n    fullName: string\n    contacts : { github:string | null, vk: string | null, facebook: string | null\n        instagram: string | null, twitter: string | null, website: string | null\n        youtube: string | null, mainLink: string | null }\n    photos: { small: string | null, large: string | null}\n}\n\ntype ProfilePutStatus = {\n    data: any\n    messages: Array<string>\n    resultCode:number\n}\n\nexport let profileAPI = {\n    getProfile(userId: number){\n        return instance.get<ProfileInfoByIdResponseType>(`profile/${userId}`)\n            .then(result => result.data)\n    },\n    getStatus(userId: number){\n        return instance.get<string>(`profile/status/${userId}`)\n            .then(result => result.data)\n    },\n    updateStatus(status: string){\n        return instance.put<ProfilePutStatus>('profile/status',{status: status})\n            .then(result => result.data)\n    }\n}\n\n\n\n\n\n\nexport const captchaAPI = {\n    getCaptcha(){\n        return instance.get(`security/get-captcha-url`).then(result=>result.data.url)\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntype MeResponseType = {\n    data: { id: number,login: string,email: string }\n    messages: Array<string>\n    fieldsErrors: Array<string>\n    resultCode: ResultCodesEnum\n}\n\ntype LoginLogoutResponseType = {\n    resultCode: number\n    messages: Array<string>\n    data: {\n        userId: number\n    }\n}\n\n\nexport const authAPI = {\n    me() {\n        return instance.get<MeResponseType>(`/auth/me`)\n            .then(result => result.data)\n    },\n    login(email: string, password: string, rememberMe=false,captcha: null | string = null) {\n        return instance.post<LoginLogoutResponseType>(`/auth/login`, {email, password, rememberMe,captcha})\n    },\n    logout(){\n        return instance.delete<LoginLogoutResponseType>(`auth/login`)\n    }\n}\n\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,OAAO,IAAIC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;EAC/BC,eAAe,EAAE,IADc;EAE/BC,OAAO,EAAG,+CAFqB;EAG/BC,OAAO,EAAE;IACL,WAAU;EADL;AAHsB,CAAb,CAAf;AAUP,WAAYC,eAAZ;;WAAYA,e;EAAAA,e,CAAAA,e;EAAAA,e,CAAAA,e;EAAAA,e,CAAAA,e;GAAAA,e,KAAAA,e;;AAiCZ,OAAO,IAAIC,UAAU,GAAG;EACpBC,UAAU,CAACC,MAAD,EAAgB;IACtB,OAAOR,QAAQ,CAACS,GAAT,CAA2C,WAAUD,MAAO,EAA5D,EACFE,IADE,CACGC,MAAM,IAAIA,MAAM,CAACC,IADpB,CAAP;EAEH,CAJmB;;EAKpBC,SAAS,CAACL,MAAD,EAAgB;IACrB,OAAOR,QAAQ,CAACS,GAAT,CAAsB,kBAAiBD,MAAO,EAA9C,EACFE,IADE,CACGC,MAAM,IAAIA,MAAM,CAACC,IADpB,CAAP;EAEH,CARmB;;EASpBE,YAAY,CAACC,MAAD,EAAgB;IACxB,OAAOf,QAAQ,CAACgB,GAAT,CAA+B,gBAA/B,EAAgD;MAACD,MAAM,EAAEA;IAAT,CAAhD,EACFL,IADE,CACGC,MAAM,IAAIA,MAAM,CAACC,IADpB,CAAP;EAEH;;AAZmB,CAAjB;AAoBP,OAAO,MAAMK,UAAU,GAAG;EACtBC,UAAU,GAAE;IACR,OAAOlB,QAAQ,CAACS,GAAT,CAAc,0BAAd,EAAyCC,IAAzC,CAA8CC,MAAM,IAAEA,MAAM,CAACC,IAAP,CAAYO,GAAlE,CAAP;EACH;;AAHqB,CAAnB;AA0CP,OAAO,MAAMC,OAAO,GAAG;EACnBC,EAAE,GAAG;IACD,OAAOrB,QAAQ,CAACS,GAAT,CAA8B,UAA9B,EACFC,IADE,CACGC,MAAM,IAAIA,MAAM,CAACC,IADpB,CAAP;EAEH,CAJkB;;EAKnBU,KAAK,CAACC,KAAD,EAAgBC,QAAhB,EAAkF;IAAA,IAAhDC,UAAgD,uEAArC,KAAqC;IAAA,IAA/BC,OAA+B,uEAAN,IAAM;IACnF,OAAO1B,QAAQ,CAAC2B,IAAT,CAAwC,aAAxC,EAAsD;MAACJ,KAAD;MAAQC,QAAR;MAAkBC,UAAlB;MAA6BC;IAA7B,CAAtD,CAAP;EACH,CAPkB;;EAQnBE,MAAM,GAAE;IACJ,OAAO5B,QAAQ,CAAC6B,MAAT,CAA0C,YAA1C,CAAP;EACH;;AAVkB,CAAhB"},"metadata":{},"sourceType":"module"}