{"ast":null,"code":"const ADD_POST = 'ADD-POST';\nconst UPDATE_POST = 'UPDATE-POST';\nconst ADD_MESSAGE = 'ADD-MESSAGE';\nconst UPDATE_MESSAGE = 'UPDATE-MESSAGE';\nexport let store = {\n  _state: {\n    profilePage: {\n      profileData: [{\n        text: 'Text 1',\n        likesCount: 1\n      }, {\n        text: 'Text 2',\n        likesCount: 2\n      }, {\n        text: 'Text 3',\n        likesCount: 3\n      }],\n      newPostText: 'it-kamasutra.com'\n    },\n    dialogPage: {\n      messageData: [{\n        message: 'Message 1'\n      }, {\n        message: 'Message 2'\n      }, {\n        message: 'Message 3'\n      }, {\n        message: 'Message 4'\n      }],\n      dialogData: [{\n        id: 1,\n        name: 'Dialog 1'\n      }, {\n        id: 2,\n        name: 'Dialog 2'\n      }, {\n        id: 3,\n        name: 'Dialog 3'\n      }, {\n        id: 4,\n        name: 'Dialog 4'\n      }],\n      newMessageText: 'it-kamasutra.com'\n    }\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  _callSubscriber() {\n    console.log('State was changed');\n  },\n\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n\n  dispatch(action) {\n    if (action.type === ADD_POST) {\n      debugger;\n      let newPost = {\n        text: this._state.profilePage.newPostText,\n        likesCount: 1\n      };\n\n      this._state.profilePage.profileData.push(newPost);\n\n      this._state.profilePage.newPostText = '';\n\n      this._callSubscriber();\n    } else if (action.type === UPDATE_POST) {\n      this._state.profilePage.newPostText = action.text;\n\n      this._callSubscriber();\n    } else if (action.type === ADD_MESSAGE) {\n      let newMessage = {\n        message: this._state.dialogPage.newMessageText\n      };\n\n      this._state.dialogPage.messageData.push(newMessage);\n\n      this._state.dialogPage.newMessageText = '';\n\n      this._callSubscriber();\n    } else if (action.type === UPDATE_MESSAGE) {\n      this._state.dialogPage.newMessageText = action.text;\n\n      this._callSubscriber();\n    }\n  }\n\n};","map":{"version":3,"names":["ADD_POST","UPDATE_POST","ADD_MESSAGE","UPDATE_MESSAGE","store","_state","profilePage","profileData","text","likesCount","newPostText","dialogPage","messageData","message","dialogData","id","name","newMessageText","getState","_callSubscriber","console","log","subscribe","observer","dispatch","action","type","newPost","push","newMessage"],"sources":["/home/bogdan/Рабочий стол/neverGiveUp/src/store.js"],"sourcesContent":["const ADD_POST= 'ADD-POST'\nconst UPDATE_POST='UPDATE-POST';\nconst ADD_MESSAGE='ADD-MESSAGE';\nconst UPDATE_MESSAGE='UPDATE-MESSAGE';\n\nexport let store = {\n    _state : {\n        profilePage : {\n            profileData : [\n                {\n                    text : 'Text 1',\n                    likesCount: 1\n                },\n                {\n                    text : 'Text 2',\n                    likesCount:2\n                },\n                {\n                    text : 'Text 3',\n                    likesCount:3\n                }\n            ],\n            newPostText : 'it-kamasutra.com'\n        },\n        dialogPage : {\n            messageData : [\n                {\n                    message: 'Message 1'\n                },\n                {\n                    message: 'Message 2'\n                },\n                {\n                    message: 'Message 3'\n                },\n                {\n                    message: 'Message 4'\n                }\n\n            ],\n            dialogData : [\n                {\n                    id: 1,\n                    name: 'Dialog 1'\n                },\n                {\n                    id: 2,\n                    name: 'Dialog 2'\n                },\n                {\n                    id: 3,\n                    name: 'Dialog 3'\n                },\n                {\n                    id: 4,\n                    name: 'Dialog 4'\n                }\n\n            ],\n            newMessageText : 'it-kamasutra.com'\n        }\n    },\n    getState(){\n        return this._state;\n    },\n    _callSubscriber(){\n        console.log('State was changed');\n    },\n    subscribe(observer){\n        this._callSubscriber=observer\n    },\n    dispatch(action){\n        if(action.type === ADD_POST){\n            debugger\n            let newPost = {\n                text: this._state.profilePage.newPostText,\n                likesCount: 1\n            }\n            this._state.profilePage.profileData.push(newPost);\n            this._state.profilePage.newPostText='';\n            this._callSubscriber();\n        } else if (action.type === UPDATE_POST){\n            this._state.profilePage.newPostText = action.text;\n            this._callSubscriber();\n        } else if(action.type === ADD_MESSAGE){\n            let newMessage = {\n                message : this._state.dialogPage.newMessageText\n            }\n            this._state.dialogPage.messageData.push(newMessage)\n            this._state.dialogPage.newMessageText='';\n            this._callSubscriber();\n        }else if(action.type === UPDATE_MESSAGE){\n            this._state.dialogPage.newMessageText = action.text;\n            this._callSubscriber();\n        }\n    }\n}\n\n\n\n\n\n\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAE,UAAhB;AACA,MAAMC,WAAW,GAAC,aAAlB;AACA,MAAMC,WAAW,GAAC,aAAlB;AACA,MAAMC,cAAc,GAAC,gBAArB;AAEA,OAAO,IAAIC,KAAK,GAAG;EACfC,MAAM,EAAG;IACLC,WAAW,EAAG;MACVC,WAAW,EAAG,CACV;QACIC,IAAI,EAAG,QADX;QAEIC,UAAU,EAAE;MAFhB,CADU,EAKV;QACID,IAAI,EAAG,QADX;QAEIC,UAAU,EAAC;MAFf,CALU,EASV;QACID,IAAI,EAAG,QADX;QAEIC,UAAU,EAAC;MAFf,CATU,CADJ;MAeVC,WAAW,EAAG;IAfJ,CADT;IAkBLC,UAAU,EAAG;MACTC,WAAW,EAAG,CACV;QACIC,OAAO,EAAE;MADb,CADU,EAIV;QACIA,OAAO,EAAE;MADb,CAJU,EAOV;QACIA,OAAO,EAAE;MADb,CAPU,EAUV;QACIA,OAAO,EAAE;MADb,CAVU,CADL;MAgBTC,UAAU,EAAG,CACT;QACIC,EAAE,EAAE,CADR;QAEIC,IAAI,EAAE;MAFV,CADS,EAKT;QACID,EAAE,EAAE,CADR;QAEIC,IAAI,EAAE;MAFV,CALS,EAST;QACID,EAAE,EAAE,CADR;QAEIC,IAAI,EAAE;MAFV,CATS,EAaT;QACID,EAAE,EAAE,CADR;QAEIC,IAAI,EAAE;MAFV,CAbS,CAhBJ;MAmCTC,cAAc,EAAG;IAnCR;EAlBR,CADM;;EAyDfC,QAAQ,GAAE;IACN,OAAO,KAAKb,MAAZ;EACH,CA3Dc;;EA4Dfc,eAAe,GAAE;IACbC,OAAO,CAACC,GAAR,CAAY,mBAAZ;EACH,CA9Dc;;EA+DfC,SAAS,CAACC,QAAD,EAAU;IACf,KAAKJ,eAAL,GAAqBI,QAArB;EACH,CAjEc;;EAkEfC,QAAQ,CAACC,MAAD,EAAQ;IACZ,IAAGA,MAAM,CAACC,IAAP,KAAgB1B,QAAnB,EAA4B;MACxB;MACA,IAAI2B,OAAO,GAAG;QACVnB,IAAI,EAAE,KAAKH,MAAL,CAAYC,WAAZ,CAAwBI,WADpB;QAEVD,UAAU,EAAE;MAFF,CAAd;;MAIA,KAAKJ,MAAL,CAAYC,WAAZ,CAAwBC,WAAxB,CAAoCqB,IAApC,CAAyCD,OAAzC;;MACA,KAAKtB,MAAL,CAAYC,WAAZ,CAAwBI,WAAxB,GAAoC,EAApC;;MACA,KAAKS,eAAL;IACH,CATD,MASO,IAAIM,MAAM,CAACC,IAAP,KAAgBzB,WAApB,EAAgC;MACnC,KAAKI,MAAL,CAAYC,WAAZ,CAAwBI,WAAxB,GAAsCe,MAAM,CAACjB,IAA7C;;MACA,KAAKW,eAAL;IACH,CAHM,MAGA,IAAGM,MAAM,CAACC,IAAP,KAAgBxB,WAAnB,EAA+B;MAClC,IAAI2B,UAAU,GAAG;QACbhB,OAAO,EAAG,KAAKR,MAAL,CAAYM,UAAZ,CAAuBM;MADpB,CAAjB;;MAGA,KAAKZ,MAAL,CAAYM,UAAZ,CAAuBC,WAAvB,CAAmCgB,IAAnC,CAAwCC,UAAxC;;MACA,KAAKxB,MAAL,CAAYM,UAAZ,CAAuBM,cAAvB,GAAsC,EAAtC;;MACA,KAAKE,eAAL;IACH,CAPM,MAOD,IAAGM,MAAM,CAACC,IAAP,KAAgBvB,cAAnB,EAAkC;MACpC,KAAKE,MAAL,CAAYM,UAAZ,CAAuBM,cAAvB,GAAwCQ,MAAM,CAACjB,IAA/C;;MACA,KAAKW,eAAL;IACH;EACJ;;AA1Fc,CAAZ"},"metadata":{},"sourceType":"module"}